{"info":{"title":"API title","version":"0.0.1"},"swagger":"2.0","produces":["application/json;charset=UTF-8"],"host":"bbetter.herokuapp.com","basePath":"/api","tags":[{"name":"users","description":"Пользователи"},{"name":"tariffs","description":"Тарифы"},{"name":"galleries","description":"Галереи"},{"name":"videos","description":"Видео"},{"name":"messages","description":"Тарифы"}],"paths":{"/v1/users/current":{"get":{"summary":"Текущий пользователь","description":"Текущий пользователь","produces":["application/json"],"parameters":[{"in":"header","name":"Auth-Token","description":"Токен авторизации","type":"string","required":true}],"responses":{"200":{"description":"Текущий пользователь","schema":{"$ref":"#/definitions/User"}},"401":{"description":"Ошибка авторизации"}},"tags":["users"],"operationId":"getV1UsersCurrent"}},"/v1/users":{"post":{"summary":"Регистрация пользователя","description":"Регистрация пользователя","produces":["application/json"],"consumes":["application/json"],"parameters":[{"in":"formData","name":"name","description":"Имя","type":"string","required":true},{"in":"formData","name":"email","description":"Email","type":"string","required":true},{"in":"formData","name":"city","description":"Город","type":"string","required":true},{"in":"formData","name":"age","description":"Возраст","type":"integer","format":"int32","required":true},{"in":"formData","name":"sex","description":"Пол","type":"string","enum":["male","female"],"required":true},{"in":"formData","name":"motivation","description":"Мотивация","type":"string","required":false}],"responses":{"201":{"description":"Регистрация пользователя","schema":{"$ref":"#/definitions/UserWithToken"}}},"tags":["users"],"operationId":"postV1Users"}},"/v1/users/edit":{"put":{"summary":"Редактирование профиля","description":"Редактирование профиля","produces":["application/json"],"consumes":["application/json"],"parameters":[{"in":"formData","name":"name","description":"Имя","type":"string","required":false},{"in":"formData","name":"email","description":"Email","type":"string","required":false},{"in":"formData","name":"city","description":"Город","type":"string","required":false},{"in":"formData","name":"age","description":"Возраст","type":"integer","format":"int32","required":false},{"in":"formData","name":"sex","description":"Пол","type":"string","enum":["male","female"],"required":false},{"in":"header","name":"Auth-Token","description":"Токен авторизации","type":"string","required":true}],"responses":{"200":{"description":"Редактирование профиля","schema":{"$ref":"#/definitions/User"}},"401":{"description":"Ошибка авторизации"}},"tags":["users"],"operationId":"putV1UsersEdit"}},"/v1/users/sign_in":{"post":{"summary":"Авторизация","description":"Авторизация","produces":["application/json"],"consumes":["application/json"],"parameters":[{"in":"formData","name":"email","description":"Email","type":"string","required":true},{"in":"formData","name":"password","description":"Пароль","type":"string","required":true}],"responses":{"201":{"description":"Авторизация"},"401":{"description":"Ошибка авторизации"}},"tags":["users"],"operationId":"postV1UsersSignIn"}},"/v1/users/sign_out":{"delete":{"summary":"Удалить токен - разлогиниться","description":"Удалить токен - разлогиниться","produces":["application/json"],"parameters":[{"in":"header","name":"Auth-Token","description":"Токен авторизации","type":"string","required":true}],"responses":{"204":{"description":"Удалить токен - разлогиниться"},"401":{"description":"Ошибка авторизации"}},"tags":["users"],"operationId":"deleteV1UsersSignOut"}},"/v1/users/password/change":{"put":{"summary":"Изменение пароля","description":"Изменение пароля","produces":["application/json"],"consumes":["application/json"],"parameters":[{"in":"formData","name":"current_password","description":"Текущий пароль","type":"string","required":true},{"in":"formData","name":"password","description":"Пароль","type":"string","required":true},{"in":"formData","name":"password_confirmation","description":"Подтверждение пароля","type":"string","required":true},{"in":"header","name":"Auth-Token","description":"Токен авторизации","type":"string","required":true}],"responses":{"200":{"description":"Изменение пароля"},"401":{"description":"Ошибка авторизации"},"422":{"description":"Ошибка при обновлении пользователя"}},"tags":["users"],"operationId":"putV1UsersPasswordChange"}},"/v1/users/password":{"post":{"summary":"Отравить запрос на восстановление пароля","description":"Отравить запрос на восстановление пароля","produces":["application/json"],"consumes":["application/json"],"parameters":[{"in":"formData","name":"email","description":"Email","type":"string","required":true}],"responses":{"201":{"description":"Отравить запрос на восстановление пароля"},"404":{"description":"Email не найден"}},"tags":["users"],"operationId":"postV1UsersPassword"}},"/v1/users/password/reset":{"put":{"summary":"Восстановление пароля","description":"Восстановление пароля","produces":["application/json"],"consumes":["application/json"],"parameters":[{"in":"formData","name":"reset_password_token","description":"Reset Password Token","type":"string","required":true},{"in":"formData","name":"password","description":"Пароль","type":"string","required":true},{"in":"formData","name":"password_confirmation","description":"Подтверждение пароля","type":"string","required":true}],"responses":{"200":{"description":"Восстановление пароля","schema":{"$ref":"#/definitions/User"}},"422":{"description":"Ошибка при восстановлении пароля"}},"tags":["users"],"operationId":"putV1UsersPasswordReset"}},"/v1/tariffs":{"get":{"summary":"Список всех тарифов","description":"Список всех тарифов","produces":["application/json"],"responses":{"200":{"description":"Список всех тарифов","schema":{"type":"array","items":{"$ref":"#/definitions/Tariff"}}}},"tags":["tariffs"],"operationId":"getV1Tariffs"}},"/v1/galleries":{"get":{"summary":"Все галереи с картинками","description":"Все галереи с картинками","produces":["application/json"],"parameters":[{"in":"query","name":"page","description":"Page offset to fetch.","type":"integer","format":"int32","default":1,"required":false},{"in":"query","name":"per_page","description":"Number of results to return per page.","type":"integer","format":"int32","default":25,"required":false},{"in":"query","name":"offset","description":"Pad a number of results.","type":"integer","format":"int32","default":0,"required":false},{"in":"header","name":"Auth-Token","description":"Токен авторизации","type":"string","required":true}],"responses":{"200":{"description":"Все галереи с картинками","schema":{"type":"array","items":{"$ref":"#/definitions/Gallery"}}},"401":{"description":"Ошибка авторизации"}},"tags":["galleries"],"operationId":"getV1Galleries"},"post":{"summary":"Создать галерею","description":"Создать галерею","produces":["application/json"],"consumes":["application/json"],"parameters":[{"in":"header","name":"Auth-Token","description":"Токен авторизации","type":"string","required":true}],"responses":{"201":{"description":"Создать галерею","schema":{"$ref":"#/definitions/Gallery"}},"401":{"description":"Ошибка авторизации"}},"tags":["galleries"],"operationId":"postV1Galleries"}},"/v1/galleries/{gallery_id}":{"delete":{"summary":"Удалить галерею","description":"Удалить галерею","produces":["application/json"],"parameters":[{"in":"path","name":"gallery_id","description":"Id галереи","type":"integer","format":"int32","required":true},{"in":"header","name":"Auth-Token","description":"Токен авторизации","type":"string","required":true}],"responses":{"204":{"description":"Удалить галерею"},"401":{"description":"Ошибка авторизации"},"404":{"description":"Галерея с таким id не найдена"}},"tags":["galleries"],"operationId":"deleteV1GalleriesGalleryId"}},"/v1/galleries/{gallery_id}/images":{"post":{"summary":"Загрузить картинку","description":"Загрузить картинку","produces":["application/json"],"consumes":["application/json"],"parameters":[{"in":"path","name":"gallery_id","description":"Id галереи","type":"integer","format":"int32","required":true},{"in":"formData","name":"image","description":"Изображение","type":"string","required":true},{"in":"formData","name":"image_type","description":"Тип картинки","type":"string","enum":["before","after","want"],"required":true},{"in":"header","name":"Auth-Token","description":"Токен авторизации","type":"string","required":true}],"responses":{"201":{"description":"Загрузить картинку","schema":{"$ref":"#/definitions/ImageFull"}},"401":{"description":"Ошибка авторизации"},"404":{"description":"Галерея с таким id не найдена"}},"tags":["galleries"],"operationId":"postV1GalleriesGalleryIdImages"}},"/v1/galleries/{gallery_id}/images/{image_id}":{"delete":{"summary":"Удалить картинку","description":"Удалить картинку","produces":["application/json"],"parameters":[{"in":"path","name":"gallery_id","description":"Id картинки","type":"integer","format":"int32","required":true},{"in":"path","name":"image_id","description":"Id картинки","type":"integer","format":"int32","required":true},{"in":"header","name":"Auth-Token","description":"Токен авторизации","type":"string","required":true}],"responses":{"204":{"description":"Удалить картинку"},"401":{"description":"Ошибка авторизации"},"404":{"description":"Картинка с таким id не найдена"}},"tags":["galleries"],"operationId":"deleteV1GalleriesGalleryIdImagesImageId"}},"/v1/videos":{"get":{"summary":"Все видео юзера","description":"Все видео юзера","produces":["application/json"],"parameters":[{"in":"query","name":"page","description":"Page offset to fetch.","type":"integer","format":"int32","default":1,"required":false},{"in":"query","name":"per_page","description":"Number of results to return per page.","type":"integer","format":"int32","default":25,"required":false},{"in":"query","name":"offset","description":"Pad a number of results.","type":"integer","format":"int32","default":0,"required":false},{"in":"header","name":"Auth-Token","description":"Validates your identity","type":"string","required":true}],"responses":{"200":{"description":"Все видео юзера","schema":{"type":"array","items":{"$ref":"#/definitions/Video"}}}},"tags":["videos"],"operationId":"getV1Videos"},"post":{"summary":"Добавить видео","description":"Добавить видео","produces":["application/json"],"consumes":["application/json"],"parameters":[{"in":"formData","name":"youtube_code","description":"Код видео на youtube (вида GXGm6uQQKe8)","type":"string","required":true},{"in":"header","name":"Auth-Token","description":"Validates your identity","type":"string","required":true}],"responses":{"201":{"description":"Добавить видео","schema":{"$ref":"#/definitions/Video"}}},"tags":["videos"],"operationId":"postV1Videos"}},"/v1/videos/{video_id}":{"delete":{"summary":"Удалить видео","description":"Удалить видео","produces":["application/json"],"parameters":[{"in":"path","name":"video_id","description":"Id видео","type":"integer","format":"int32","required":true},{"in":"header","name":"Auth-Token","description":"Validates your identity","type":"string","required":true}],"responses":{"204":{"description":"Удалить видео"}},"tags":["videos"],"operationId":"deleteV1VideosVideoId"}},"/v1/messages":{"get":{"summary":"Список всех сообщений","description":"Список всех сообщений","produces":["application/json"],"parameters":[{"in":"query","name":"page","description":"Page offset to fetch.","type":"integer","format":"int32","default":1,"required":false},{"in":"query","name":"per_page","description":"Number of results to return per page.","type":"integer","format":"int32","default":25,"required":false},{"in":"query","name":"offset","description":"Pad a number of results.","type":"integer","format":"int32","default":0,"required":false},{"in":"header","name":"Auth-Token","description":"Токен авторизации","type":"string","required":true}],"responses":{"200":{"description":"Список всех сообщений","schema":{"type":"array","items":{"$ref":"#/definitions/Message"}}},"401":{"description":"Ошибка авторизации"}},"tags":["messages"],"operationId":"getV1Messages"},"post":{"summary":"Написать сообщение","description":"Написать сообщение","produces":["application/json"],"consumes":["application/json"],"parameters":[{"in":"formData","name":"text","description":"Текст сообщения","type":"string","required":true},{"in":"header","name":"Auth-Token","description":"Токен авторизации","type":"string","required":true}],"responses":{"201":{"description":"Написать сообщение","schema":{"$ref":"#/definitions/Message"}},"401":{"description":"Ошибка авторизации"}},"tags":["messages"],"operationId":"postV1Messages"}}},"definitions":{"User":{"type":"object","properties":{"name":{"type":"string","description":"Имя"},"email":{"type":"string","description":"Email"},"city":{"type":"string","description":"Город"},"age":{"type":"string","description":"Возраст"},"sex":{"type":"string","description":"Пол"},"motivation":{"type":"string","description":"Мотивация"}},"description":"Восстановление пароля"},"UserWithToken":{"type":"object","properties":{"name":{"type":"string","description":"Имя"},"email":{"type":"string","description":"Email"},"city":{"type":"string","description":"Город"},"age":{"type":"string","description":"Возраст"},"sex":{"type":"string","description":"Пол"},"motivation":{"type":"string","description":"Мотивация"},"auth_token":{"type":"string","description":"Токен"}},"description":"Регистрация пользователя"},"Tariff":{"type":"object","properties":{"name":{"type":"string","description":"Название"},"price":{"type":"integer","format":"int32","description":"Стоимость"},"people_number":{"type":"integer","format":"int32","description":"Количество человек"},"short_content":{"type":"string","description":"Краткое описание"},"full_content":{"type":"string","description":"Полное описание"},"image":{"type":"object","description":"Изображение"},"additional_image":{"type":"object","description":"Дополнительное изображение"}},"description":"Список всех тарифов"},"Gallery":{"type":"object","properties":{"id":{"type":"integer","format":"int32","description":"Id"},"images":{"type":"array","items":{"$ref":"#/definitions/Image"},"description":"Изображения"}},"description":"Создать галерею"},"Image":{"type":"object","properties":{"id":{"type":"integer","format":"int32","description":"Id"},"image":{"type":"object","description":"Изображение"},"image_type":{"type":"string","description":"Тип"}}},"ImageFull":{"type":"object","properties":{"id":{"type":"integer","format":"int32","description":"Id"},"image":{"type":"object","description":"Изображение"},"image_type":{"type":"string","description":"Тип"},"gallery_id":{"type":"integer","format":"int32","description":"Id галреи"}},"description":"Загрузить картинку"},"Video":{"type":"object","properties":{"id":{"type":"integer","format":"int32","description":"id"},"youtube_code":{"type":"integer","format":"int32","description":"Код видео на youtube"}},"description":"Добавить видео"},"Message":{"type":"object","properties":{"id":{"type":"integer","format":"int32","description":"id"},"text":{"type":"string","description":"Текст сообщения"},"message_type":{"type":"string","description":"Тип"}},"description":"Написать сообщение"}}}
